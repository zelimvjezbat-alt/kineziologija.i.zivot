<!DOCTYPE html>
<html lang="en" class="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gym Tracker</title>

<script src="https://cdn.tailwindcss.com"></script>

<style>
:root {
  --background: hsl(210, 40%, 98%);
  --foreground: hsl(222, 47%, 11%);
  --card: hsl(0, 0%, 100%);
  --card-foreground: hsl(222, 47%, 11%);
  --border: hsl(214, 31%, 91%);
  --primary: hsl(189, 94%, 43%);
  --input: hsl(214, 31%, 91%);
  --ball: hsl(210, 40%, 94%);
}
.dark {
  --background: hsl(222, 84%, 4.9%);
  --foreground: hsl(210, 40%, 98%);
  --card: hsl(222, 84%, 6%);
  --card-foreground: hsl(210, 40%, 98%);
  --border: hsl(217, 33%, 18%);
  --primary: hsl(186, 78%, 57%);
  --input: hsl(217, 33%, 18%);
  --ball: hsl(218, 33%, 14%);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: sans-serif;
}

.card {
  background: var(--card);
  color: var(--card-foreground);
  border: 1px solid var(--border);
  border-radius: 1rem;
  padding: 1rem;
}

.ball {
  width: 14rem;
  height: 14rem;
  border-radius: 9999px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--ball);
  border: 2px solid var(--primary);
  cursor: pointer;
  font-weight: 600;
  text-align: center;
}

input {
  background: var(--input);
  color: var(--foreground);
  border: 1px solid var(--border);
}
</style>
</head>

<body class="p-6 min-h-screen">

<header class="flex justify-between items-center mb-12">
<h1 class="text-2xl font-bold"><span class="text-cyan-500">Gym</span> Tracker</h1>
<button id="themeToggle">üåô</button>
</header>

<main class="flex flex-wrap justify-center gap-12">

<!-- RECORDS -->
<div class="flex flex-col items-center gap-4">
  <div class="ball" id="recordsBall">üèÜ Records</div>
  <div id="recordBalls" class="flex flex-wrap gap-3 justify-center"></div>
</div>

<!-- TRAININGS -->
<div class="flex flex-col items-center gap-4">
  <div class="ball" id="creatorBall">‚ûï New Training</div>
  <div id="trainingBalls" class="flex flex-wrap gap-3 justify-center"></div>
</div>

</main>

<div id="contentContainer" class="max-w-xl mx-auto mt-10"></div>

<script>
const themeToggle = document.getElementById('themeToggle');
themeToggle.onclick = () =>
  document.documentElement.classList.toggle('dark');

const contentContainer = document.getElementById('contentContainer');
const trainingBalls = document.getElementById('trainingBalls');
const recordBalls = document.getElementById('recordBalls');

const trainings = [];
const records = [];

let openTrainingIndex = null;
let recordsOpen = false;

/* ---------- RECORDS ---------- */
function renderRecords() {
  if (recordsOpen) {
    contentContainer.innerHTML = '';
    recordsOpen = false;
    return;
  }
  recordsOpen = true;
  contentContainer.innerHTML = '';

  const card = document.createElement('div');
  card.className = 'card';

  const input = document.createElement('input');
  input.placeholder = 'Bench Press 100kg';
  input.className = 'p-1 rounded w-full mb-2';

  const btn = document.createElement('button');
  btn.textContent = 'Add';
  btn.className = 'bg-cyan-500 text-white px-2 py-1 rounded';

  btn.onclick = () => {
    if (!input.value) return;
    records.push(input.value);
    input.value = '';
    renderRecordBalls();
  };

  card.append(input, btn);
  contentContainer.appendChild(card);
}

function renderRecordBalls() {
  recordBalls.innerHTML = '';
  records.forEach((r, i) => {
    const b = document.createElement('div');
    b.className = 'ball w-32 h-32 text-xs relative';
    b.innerHTML = `<span>${r}</span>
      <button class="absolute top-1 right-2">‚úï</button>`;

    b.querySelector('button').onclick = (e) => {
      e.stopPropagation();
      records.splice(i, 1);
      renderRecordBalls();
    };
    recordBalls.appendChild(b);
  });
}

/* ---------- TRAININGS ---------- */
function renderTrainingBalls() {
  trainingBalls.innerHTML = '';
  trainings.forEach((t, i) => {
    const b = document.createElement('div');
    b.className = 'ball w-40 h-40 text-sm';
    b.textContent = t.name;
    b.onclick = () => toggleTraining(i);
    trainingBalls.appendChild(b);
  });
}

function toggleTraining(index) {
  if (openTrainingIndex === index) {
    contentContainer.innerHTML = '';
    openTrainingIndex = null;
    return;
  }
  openTrainingIndex = index;
  renderSingleTraining(index);
}

function renderSingleTraining(index) {
  contentContainer.innerHTML = '';
  const t = trainings[index];

  const card = document.createElement('div');
  card.className = 'card';

  const h3 = document.createElement('h3');
  h3.textContent = t.name;
  h3.className = 'font-bold mb-2';
  card.appendChild(h3);

  t.exercises.forEach(ex => {
    const d = document.createElement('div');
    d.textContent = `${ex.name} ‚Äî ${ex.reps} reps √ó ${ex.sets} sets`;
    card.appendChild(d);
  });

  const del = document.createElement('button');
  del.textContent = 'Delete Training';
  del.className = 'bg-red-500 text-white px-2 py-1 rounded mt-3';
  del.onclick = () => {
    trainings.splice(index, 1);
    openTrainingIndex = null;
    renderTrainingBalls();
    contentContainer.innerHTML = '';
  };

  card.appendChild(del);
  contentContainer.appendChild(card);
}

/* ---------- CREATOR ---------- */
function renderCreator() {
  contentContainer.innerHTML = '';
  openTrainingIndex = null;

  const card = document.createElement('div');
  card.className = 'card';

  const nameInput = document.createElement('input');
  nameInput.placeholder = 'Training Name';
  nameInput.className = 'p-1 rounded w-full mb-2';

  const exercises = [];
  const exDiv = document.createElement('div');

  const addEx = document.createElement('button');
  addEx.textContent = 'Add Exercise';
  addEx.className = 'bg-green-500 text-white px-2 py-1 rounded mb-2';

  addEx.onclick = () => {
    const row = document.createElement('div');
    row.className = 'flex gap-2 mb-2';

    const exName = document.createElement('input');
    exName.placeholder = 'Exercise';

    const reps = document.createElement('input');
    reps.placeholder = 'Reps';
    reps.className = 'w-20';

    const sets = document.createElement('input');
    sets.placeholder = 'Sets';
    sets.className = 'w-20';

    row.append(exName, reps, sets);
    exDiv.appendChild(row);

    exercises.push({ exName, reps, sets });
  };

  const save = document.createElement('button');
  save.textContent = 'Save Training';
  save.className = 'bg-cyan-500 text-white px-2 py-1 rounded ml-2';

  save.onclick = () => {
    trainings.push({
      name: nameInput.value,
      exercises: exercises.map(e => ({
        name: e.exName.value,
        reps: e.reps.value,
        sets: e.sets.value
      }))
    });
    renderTrainingBalls();
    contentContainer.innerHTML = '';
  };

  card.append(nameInput, addEx, exDiv, save);
  contentContainer.appendChild(card);
}

document.getElementById('recordsBall').onclick = renderRecords;
document.getElementById('creatorBall').onclick = renderCreator;
</script>

</body>
</html>
